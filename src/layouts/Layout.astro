---
import { getLangFromUrl } from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);

interface Props {
	title: string;
	description?: string;
	keywords?: string;
}

const { title, description, keywords } = Astro.props;
---

<!doctype html>
<html lang={lang}>
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="generator" content={Astro.generator} />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<title>{title}</title>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				var items = document.querySelectorAll(
					"#feature-list #tab > div",
				);
				for (var i = 0; i < items.length; i++) {
					items[i].addEventListener("mouseenter", function () {
						var tab_id = this.getAttribute("data-target");

						var activedItems = document.querySelectorAll(
							"#feature-list #tab > div.bg-neutral-100",
						);
						for (var j = 0; j < activedItems.length; j++) {
							activedItems[j].classList.remove("bg-neutral-100");
						}

						var activedContents = document.querySelectorAll(
							"#feature-list #content > div.block",
						);
						for (var j = 0; j < activedContents.length; j++) {
							activedContents[j].classList.remove("block");
							activedContents[j].classList.add("hidden");
						}

						this.classList.add("bg-neutral-100");
						document
							.querySelector(tab_id)
							.classList.remove("hidden");
						document.querySelector(tab_id).classList.add("block");

						return false;
					});
				}
			});
		</script>
		<!-- Paste this right before your closing </head> tag -->
		<script type="text/javascript">
			(function (f, b) {
				if (!b.__SV) {
					var e, g, i, h;
					window.mixpanel = b;
					b._i = [];
					b.init = function (e, f, c) {
						function g(a, d) {
							var b = d.split(".");
							2 == b.length && ((a = a[b[0]]), (d = b[1]));
							a[d] = function () {
								a.push(
									[d].concat(
										Array.prototype.slice.call(
											arguments,
											0,
										),
									),
								);
							};
						}
						var a = b;
						"undefined" !== typeof c
							? (a = b[c] = [])
							: (c = "mixpanel");
						a.people = a.people || [];
						a.toString = function (a) {
							var d = "mixpanel";
							"mixpanel" !== c && (d += "." + c);
							a || (d += " (stub)");
							return d;
						};
						a.people.toString = function () {
							return a.toString(1) + ".people (stub)";
						};
						i =
							"disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(
								" ",
							);
						for (h = 0; h < i.length; h++) g(a, i[h]);
						var j = "set set_once union unset remove delete".split(
							" ",
						);
						a.get_group = function () {
							function b(c) {
								d[c] = function () {
									call2_args = arguments;
									call2 = [c].concat(
										Array.prototype.slice.call(
											call2_args,
											0,
										),
									);
									a.push([e, call2]);
								};
							}
							for (
								var d = {},
									e = ["get_group"].concat(
										Array.prototype.slice.call(
											arguments,
											0,
										),
									),
									c = 0;
								c < j.length;
								c++
							)
								b(j[c]);
							return d;
						};
						b._i.push([e, f, c]);
					};
					b.__SV = 1.2;
					e = f.createElement("script");
					e.type = "text/javascript";
					e.async = !0;
					e.src =
						"undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL
							? MIXPANEL_CUSTOM_LIB_URL
							: "file:" === f.location.protocol &&
								  "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(
										/^\/\//,
								  )
								? "https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"
								: "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";
					g = f.getElementsByTagName("script")[0];
					g.parentNode.insertBefore(e, g);
				}
			})(document, window.mixpanel || []);
			mixpanel.init("8531ce0ef1b71386ed6bfb168e258a7f", {
				debug: false,
				ignore_dnt: true,
				track_pageview: false,
			});
			// Set this to a unique identifier for the user performing the event.
			// mixpanel.identify('USER_ID')
			// Track an event. It can be anything, but in this example, we're tracking a Sign Up event.
			mixpanel.track("visit Landing page", {
				"Cloudflare Pages": true,
				i18n: "zh",
			});
		</script>
		<script type="text/javascript">
			(function (c, l, a, r, i, t, y) {
				c[a] =
					c[a] ||
					function () {
						(c[a].q = c[a].q || []).push(arguments);
					};
				t = l.createElement(r);
				t.async = 1;
				t.src = "https://www.clarity.ms/tag/" + i;
				y = l.getElementsByTagName(r)[0];
				y.parentNode.insertBefore(t, y);
			})(window, document, "clarity", "script", "ksbkb9e48r");
		</script>
		<script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
	</head>
	<body>
		<slot />
	</body>
</html>
<style is:global>
	:root {
		--accent: 136, 58, 234;
		--accent-light: 224, 204, 250;
		--accent-dark: 49, 10, 101;
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 30%,
			white 60%
		);
	}
	html {
		font-family: system-ui, sans-serif;
		scroll-behavior: smooth;
	}
	code {
		font-family:
			Menlo,
			Monaco,
			Lucida Console,
			Liberation Mono,
			DejaVu Sans Mono,
			Bitstream Vera Sans Mono,
			Courier New,
			monospace;
	}
</style>
